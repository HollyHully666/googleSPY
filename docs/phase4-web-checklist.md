# Фаза 4: Web-интерфейс — чеклист

## Реализовано

- **index.html**: форма логина (URL сервера, логин, пароль) и панель с кнопками и областями вывода.
- **style.css**: верстка и стили (логин, панель, кнопки, области GPS/камера/микрофон/экран).
- **main.js**: Vanilla JS, без фреймворков.

### Логин и сокет

- Форма логина → подключение Socket.io с query-параметрами `login` и `password`.
- URL сервера по умолчанию = текущий origin (можно оставить пустым при работе с того же домена).
- После успешного подключения показывается панель, при ошибке авторизации через ~1.5 с возврат на логин с сообщением об ошибке.

### Панель запросов

- Кнопки: **GPS**, **Камера**, **Микрофон**, **Экран** — отправка `request_gps`, `request_camera`, `request_mic`, `request_screen`.
- **GPS**: вывод координат текстом и на карте Leaflet (OpenStreetMap).
- **Камера**: отображение JPEG из base64 в `<img>`.
- **Микрофон / Экран**: заглушки (на устройстве пока не реализовано).

### Состояния

- **Подключение…** (connecting) — оранжевый.
- **Подключено** (connected) — зелёный.
- **Отключено / Разрыв соединения** (disconnected) — красный.
- **Ошибка: …** (error) — красный; при ошибке авторизации — возврат на экран логина.

### Зависимости (CDN)

- Socket.io Client 4.7.2
- Leaflet 1.9.4 (CSS + JS)

## Проверка

**Сервер должен быть залит на VPS с доменом big-brother.pro** (см. `docs/phase2-server-deploy.md`). Устройство (Android) подключается к **https://big-brother.pro**; веб-интерфейс открывается по тому же адресу.

1. Убедиться, что backend развёрнут на VPS (pm2, Nginx, SSL для big-brother.pro).
2. Открыть в браузере: **https://big-brother.pro**.
3. Ввести логин и пароль (те же, что в `.env` на сервере), нажать «Подключиться».
4. Убедиться, что устройство (Android) подключено к **https://big-brother.pro** с тем же логином.
5. Нажать «GPS» — должны прийти координаты и отобразиться на карте.
6. Нажать «Камера» — должен прийти снимок и отобразиться в блоке «Камера».
7. Кнопка «Выход» — разрыв соединения и возврат на форму логина.

## Дальнейшая доработка (по желанию)

- Микрофон: приём аудио-стрима и вывод в `<audio>` (MediaSource / Blob).
- Экран: приём видеопотока и вывод в `<video>`.
- Тестирование в Chrome и Firefox.
